from colorama import init, Fore, Back, Style
from spellchecker import SpellChecker
import random
init()

spell = SpellChecker()

word_list = ["apple", "ninth", "dance", "unlit", "tasty", "shirk", "scold", "cross",
  "crave", "fishy", "flirt", "worry", "beefy", "maize", "count", "elude",
  "matey", "blurb", "alter", "mucky", "chard", "adopt", "frock", "spire",
  "koala", "human", "leaptt", "sedan", "grimy", "pixie", "opera",]
loop = True
while loop:
  print("Start a new game? (y/quit)")
  command = input()
  if command == "quit":
    loop = False
  elif command == "y":
    inner_loop = 0
    word = random.choice(word_list)
    #print("Word is :", word)
    print("Enter a word")

    while inner_loop < 6:

      attempt = input()
      while True:  #ask to enter the word until a correct word is entered
        if attempt == '':
          break
        attempt = attempt.lower()
        if attempt in spell and len(attempt) == 5:
          #print("'{}' is spelled correctly!".format(attempt))
          break
        else:
          print("Not in the word list or word longer than 5 characters")
          attempt = input("Enter the word again :\n")

      # Game logic
      output = ""
      for i in range(len(word)):
        if attempt[i] == word[i]:
          output = output + Back.GREEN + attempt[i] + Back.RESET
        elif attempt[i] in word:
          output = output + Back.YELLOW + attempt[i] + Back.RESET
        else:
          output = output + attempt[i] + Back.RESET
      print("Attempts done :", inner_loop + 1)  #we are starting the loop at 0
      print(output)
      if inner_loop == 6:
        print("Sorry, you lost, word was :", word)
      if word == attempt:
        print("Congrats")
        inner_loop = inner_loop + 6  # Reset game

      inner_loop = inner_loop + 1
